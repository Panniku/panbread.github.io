import{c as N,h as o,b as I,E as A,ac as S,ad as R,a7 as U,ae as p,af as g,d as h,p as v,U as D,e as x,B as y,m as F,g as L,ag as O,a as j,j as k}from"./G4DG4vZQ.js";import{s as q,g as w}from"./CXKSgNZi.js";function H(e,a,n=!1){o&&I();var s=e,r=null,t=null,u=D,m=n?A:0,l=!1;const E=(c,i=!0)=>{l=!0,b(i,c)},b=(c,i)=>{if(u===(u=c))return;let d=!1;if(o){const T=s.data===S;!!u===T&&(s=R(),U(s),p(!1),d=!0)}u?(r?g(r):i&&(r=h(()=>i(s))),t&&v(t,()=>{t=null})):(t?g(t):i&&(t=h(()=>i(s))),r&&v(r,()=>{r=null})),d&&p(!0)};N(()=>{l=!1,a(E),l||b(null,null)},m),o&&(s=x)}let f=!1,_=Symbol();function M(e,a,n){const s=n[a]??(n[a]={store:null,source:F(void 0),unsubscribe:y});if(s.store!==e&&!(_ in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=y;else{var r=!0;s.unsubscribe=q(e,t=>{r?s.source.v=t:j(s.source,t)}),r=!1}return e&&_ in n?w(e):L(s.source)}function P(e,a){return e.set(a),a}function Y(){const e={};function a(){O(()=>{for(var n in e)e[n].unsubscribe();k(e,_,{enumerable:!1,value:!0})})}return[e,a]}function Z(e){var a=f;try{return f=!1,[e(),f]}finally{f=a}}export{Y as a,P as b,Z as c,H as i,M as s};
